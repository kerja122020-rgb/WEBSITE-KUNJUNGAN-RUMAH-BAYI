<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Kunjungan Rumah - Bayi (0-6 Bulan)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .form-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
        }
        .input-group {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        .success-message {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">CHECKLIST KUNJUNGAN RUMAH ‚Äì BAYI</h1>
            <p class="text-center text-gray-600 mb-8">(USIA 0-6 Bulan)</p>
            
            <form id="babyChecklistForm">
                <!-- Data Dasar Anak -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">üìã Data Dasar Anak</h2>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Nama Anak:</label>
                        <input type="text" name="namaAnak" required class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Tanggal Lahir:</label>
                        <input type="date" name="tanggalLahir" required class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Jenis Kelamin:</label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="jenisKelamin" value="Laki-laki" required class="mr-2">
                                <span>Laki-laki</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="jenisKelamin" value="Perempuan" required class="mr-2">
                                <span>Perempuan</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Waktu Kunjungan -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">üè† Waktu Kunjungan</h2>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Waktu Kunjungan:</label>
                        <select name="waktuKunjungan" required class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                            <option value="">Pilih Kunjungan</option>
                            <option value="Kunjungan 1">Kunjungan 1</option>
                            <option value="Kunjungan 2">Kunjungan 2</option>
                            <option value="Kunjungan 3">Kunjungan 3</option>
                            <option value="Kunjungan 4">Kunjungan 4</option>
                            <option value="Kunjungan 5">Kunjungan 5</option>
                            <option value="Kunjungan 6">Kunjungan 6</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Tanggal Kunjungan:</label>
                        <input type="date" name="tanggalKunjungan" required class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- Pemantauan Kesehatan -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">üå°Ô∏è Pemantauan Kesehatan</h2>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Pemantauan Suhu Tubuh:</label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="suhuTubuh" value="<37,5¬∞C" required class="mr-2">
                                <span>&lt;37,5¬∞C</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="suhuTubuh" value=">37,5¬∞C" required class="mr-2">
                                <span>&gt;37,5¬∞C</span>
                            </label>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Ada Buku KIA:</label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="bukuKIA" value="Ada" required class="mr-2">
                                <span>Ada</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="bukuKIA" value="Tidak" required class="mr-2">
                                <span>Tidak</span>
                            </label>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">ASI Ekslusif:</label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="asiEkslusif" value="Ya" required class="mr-2">
                                <span>Ya</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="asiEkslusif" value="Tidak" required class="mr-2">
                                <span>Tidak</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Penimbangan dan Pengukuran -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">‚öñÔ∏è Penimbangan dan Pengukuran</h2>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Tanggal Terakhir Ditimbang:</label>
                        <input type="date" name="tanggalTimbang" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Tempat Penimbangan:</label>
                        <input type="text" name="tempatTimbang" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Petugas:</label>
                        <input type="text" name="petugasTimbang" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="input-group">
                            <label class="block text-sm font-medium mb-2">Berat Badan (kg):</label>
                            <input type="number" step="0.1" name="beratBadan" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="input-group">
                            <label class="block text-sm font-medium mb-2">Panjang Badan (cm):</label>
                            <input type="number" step="0.1" name="panjangBadan" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="input-group">
                            <label class="block text-sm font-medium mb-2">Lingkar Kepala (cm):</label>
                            <input type="number" step="0.1" name="lingkarKepala" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>

                <!-- Tanda Bahaya 0-28 Hari -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">‚ö†Ô∏è Tanda Bahaya 0-28 Hari</h2>
                    <div class="checkbox-group">
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_demam" value="Ya" class="mr-2">
                            <span>Demam/Panas Tinggi</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_diare" value="Ya" class="mr-2">
                            <span>Diare</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_kejang" value="Ya" class="mr-2">
                            <span>Kejang</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_kuning" value="Ya" class="mr-2">
                            <span>Kulit dan mata kuning</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_lemah" value="Ya" class="mr-2">
                            <span>Lemah</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_menangis" value="Ya" class="mr-2">
                            <span>Menangis terus menerus</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_taliPusat" value="Ya" class="mr-2">
                            <span>Tali pusat kemerahan</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_sesak" value="Ya" class="mr-2">
                            <span>Sesak napas</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_tinjaPucat" value="Ya" class="mr-2">
                            <span>Tinja berwarna pucat</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_tidakMenyusu" value="Ya" class="mr-2">
                            <span>Tidak menyusu</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya028_muntah" value="Ya" class="mr-2">
                            <span>Muntah-muntah</span>
                        </label>
                    </div>
                </div>

                <!-- Tanda Bahaya 29 hari - 5 tahun -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">‚ö†Ô∏è Tanda Bahaya 29 Hari s/d 5 Tahun</h2>
                    <div class="checkbox-group">
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_demam" value="Ya" class="mr-2">
                            <span>Demam/Panas Tinggi</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_diare" value="Ya" class="mr-2">
                            <span>Diare</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_kejang" value="Ya" class="mr-2">
                            <span>Kejang</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_muntah" value="Ya" class="mr-2">
                            <span>Muntah-Muntah</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_tidakMinum" value="Ya" class="mr-2">
                            <span>Tidak Bisa Minum</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_bengkak" value="Ya" class="mr-2">
                            <span>Pembengkakan telinga</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_perdarahan" value="Ya" class="mr-2">
                            <span>Perdarahan</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_sesakNafas" value="Ya" class="mr-2">
                            <span>Sesak nafas</span>
                        </label>
                        <label class="flex items-center bg-white bg-opacity-20 p-3 rounded-lg">
                            <input type="checkbox" name="tandaBahaya295_sianosis" value="Ya" class="mr-2">
                            <span>Tampak Biru (Sianosis)</span>
                        </label>
                    </div>
                </div>

                <!-- Tindak Lanjut -->
                <div class="form-section">
                    <h2 class="text-xl font-semibold mb-4">üìã Tindak Lanjut</h2>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Mengingatkan periksa ke Pustu/Puskesmas/Fasyankes:</label>
                        <div class="flex gap-4">
                            <label class="flex items-center">
                                <input type="radio" name="mengingatkanPeriksa" value="Ya" class="mr-2">
                                <span>Ya</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="mengingatkanPeriksa" value="Tidak" class="mr-2">
                                <span>Tidak</span>
                            </label>
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Tanggal Rujukan ke Nakes:</label>
                        <input type="date" name="tanggalRujukan" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium mb-2">Catatan Tambahan:</label>
                        <textarea name="catatanTambahan" rows="3" class="w-full p-3 rounded-lg bg-white text-gray-800 border border-gray-300 focus:ring-2 focus:ring-blue-500" placeholder="Catatan atau keterangan tambahan..."></textarea>
                    </div>
                </div>

                <div class="text-center">
                    <button type="submit" class="bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-full text-lg shadow-lg transform hover:scale-105 transition-all duration-200">
                        üì§ Kirim Data ke Spreadsheet
                    </button>
                </div>
            </form>

            <div id="successMessage" class="success-message">
                ‚úÖ Data berhasil dikirim ke Google Spreadsheet!
            </div>
        </div>
    </div>

    <script>
        // URL Google Apps Script yang sudah Anda berikan
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzZ1tcqmr5jCkhzn7ny8TlFP1uPfqmx5RiOgN4ME4qy-oj9XkWZqAQHk4je7Sc2y53I6Q/exec';
        
        document.getElementById('babyChecklistForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitButton = e.target.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;
            
            // Tampilkan loading
            submitButton.innerHTML = '‚è≥ Mengirim data...';
            submitButton.disabled = true;
            
            try {
                // Kumpulkan semua data form
                const formData = new FormData(e.target);
                const data = {};
                
                // Konversi FormData ke object
                for (let [key, value] of formData.entries()) {
                    if (data[key]) {
                        // Jika key sudah ada, buat array
                        if (Array.isArray(data[key])) {
                            data[key].push(value);
                        } else {
                            data[key] = [data[key], value];
                        }
                    } else {
                        data[key] = value;
                    }
                }
                
                // Tambahkan timestamp
                data.timestamp = new Date().toLocaleString('id-ID');
                
                console.log('Mengirim data:', data);
                
                // Kirim data ke Google Apps Script
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                console.log('Response status:', response);
                
                // Tampilkan pesan sukses
                document.getElementById('successMessage').style.display = 'block';
                
                // Reset form
                e.target.reset();
                
                // Scroll ke pesan sukses
                document.getElementById('successMessage').scrollIntoView({ 
                    behavior: 'smooth' 
                });
                
                // Auto-hide success message after 5 seconds
                setTimeout(() => {
                    document.getElementById('successMessage').style.display = 'none';
                }, 5000);
                
            } catch (error) {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat mengirim data. Silakan coba lagi.');
            } finally {
                // Kembalikan tombol ke kondisi semula
                submitButton.innerHTML = originalText;
                submitButton.disabled = false;
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981ffe827380fd06',t:'MTc1ODM1NzM3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
